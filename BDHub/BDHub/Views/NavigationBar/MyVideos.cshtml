@model IEnumerable<BDHub.Models.Video>

@{
    ViewBag.Title = "My Videos";
}

@{ string getYouTubeThumbnail(string YoutubeUrl)
    {
        string youTubeThumb = string.Empty;
        if (YoutubeUrl == "")
            return "";

        if (YoutubeUrl.IndexOf("=") > 0)
        {
            youTubeThumb = YoutubeUrl.Split('=')[1];
        }
        else if (YoutubeUrl.IndexOf("/v/") > 0)
        {
            string strVideoCode = YoutubeUrl.Substring(YoutubeUrl.IndexOf("/v/") + 3);
            int ind = strVideoCode.IndexOf("?");
            youTubeThumb = strVideoCode.Substring(0, ind == -1 ? strVideoCode.Length : ind);
        }
        else if (YoutubeUrl.IndexOf('/') < 6)
        {
            youTubeThumb = YoutubeUrl.Split('/')[3];
        }
        else if (YoutubeUrl.IndexOf('/') > 6)
        {
            youTubeThumb = YoutubeUrl.Split('/')[1];
        }

        return "http://img.youtube.com/vi/" + youTubeThumb + "/mqdefault.jpg";
    } }

<div class="row">
    <div class="col-md-3">
        <b>VIDEO TITLE</b>
    </div>

    <div class="col-md-3">

        <b>DESCRIPTION</b>
    </div>

    <div class="col-md-3">

        <p><b>VIEWS</b></p>
    </div>
    <div class="col-md-3">
        <p><b>PRICE</b></p>
    </div>
</div>

@foreach (var item in Model)
{

<div class="row">
    <div class="col-md-3">
        <h2>
            @*@Html.ActionLink("VideoPlayer", "NavigationBar",FormMethod.Post)

                <img src="@getYouTubeThumbnail(item.filepath)" alt="@item.title" />*@

            <a href="@Url.Action("IncrementViewCount", "NavigationBar",new { id = item.videoID })">
                <img alt="List View" src="@Url.Content(getYouTubeThumbnail(item.filepath))">

            </a>
            @*Html.ActionLink(item.title, "IncrementViewCount", new { id = item.videoID })
                         @*<br />
                <br />
                <img src="@getYouTubeThumbnail(item.filepath)" alt="Thumbnail" />*@
        </h2>
    </div>

    @*<div class="col-md-5">
            <p><img src="@getYouTubeThumbnail(item.filepath)" alt="Thumbnail" /></p>
        </div>*@

    <div class="col-md-3">
        <p><b>@item.title </b></p>
        <br />
        <p background-color="gray">@item.about</p>
    </div>

    <div class="col-md-3">
        <br />
        <p> @item.viewsCount </p>


    </div>

    <div class="col-md-2">
        <br />
        <p> @item.price.ToString("0.#####################") <b>BD</b></p>


    </div>
    <div class="col-md-1">
        <br />
        <p>@Html.ActionLink("Edit", "EditVideo", new { id = item.videoID })</p>
        <p>@Html.ActionLink("Delete", "DeleteVideo", new { id = item.videoID }, new { onclick = "return confirm('Are you sure you want to delete this video? \\n\\nVideo title:   " + @item.title + "\\n\\nPrice:   " + item.price + "');" })</p>
    </div>
</div>
}